<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Rotating Wireframe Globe</title>
  <style>
    /* Make the canvas fill the entire window, with no margins or scrollbars */
    body {
      margin: 0;
      overflow: hidden;
      background-color: #000; /* Black background */
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>
  <!-- The script tag below loads Three.js from the official CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r154/three.min.js"></script>
  <script>
    // 1) Set up the basic Three.js components: scene, camera, renderer
    const scene = new THREE.Scene();

    // PerspectiveCamera( fov, aspect, near, far )
    const camera = new THREE.PerspectiveCamera(
      45,
      window.innerWidth / window.innerHeight,
      0.1,
      2000
    );
    camera.position.set(0, 0, 600);

    const renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setPixelRatio(window.devicePixelRatio);
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setClearColor(0x000000, 1); // black background
    document.body.appendChild(renderer.domElement);

    // 2) Create a wireframe sphere (globe “outline”)
    const RADIUS = 200;
    const WIDTH_SEGMENTS = 64;
    const HEIGHT_SEGMENTS = 64;

    // (a) Create a regular SphereGeometry at the specified radius
    const sphereGeo = new THREE.SphereGeometry(
      RADIUS,
      WIDTH_SEGMENTS,
      HEIGHT_SEGMENTS
    );

    // (b) Convert the SphereGeometry into a WireframeGeometry
    const wireframeGeo = new THREE.WireframeGeometry(sphereGeo);

    // (c) Create a LineSegments mesh with thin white lines
    const wireframeMat = new THREE.LineBasicMaterial({
      color: 0xffffff,
      linewidth: 1,
      transparent: true,
      opacity: 0.9,
    });

    const globeWireframe = new THREE.LineSegments(wireframeGeo, wireframeMat);
    scene.add(globeWireframe);

    // 3) Add a subtle ambient light and a dim directional light (for slight depth)
    const ambientLight = new THREE.AmbientLight(0xffffff, 0.2);
    scene.add(ambientLight);

    const dirLight = new THREE.DirectionalLight(0xffffff, 0.3);
    dirLight.position.set(5, 10, 7.5);
    scene.add(dirLight);

    // 4) Track time to make the globe “swing” left-and-right
    let clock = new THREE.Clock();

    function animate() {
      requestAnimationFrame(animate);

      // Compute elapsed time
      const t = clock.getElapsedTime();

      // Use a sine wave to oscillate rotation around the Y axis
      const swingAmplitude = 0.6; // max radians (~34°) to left/right
      const swingSpeed = 0.5;     // how fast it swings back-and-forth

      globeWireframe.rotation.y = Math.sin(t * swingSpeed) * swingAmplitude;

      // You can also add a slight rotation around X or Z if you like:
      // globeWireframe.rotation.x = 0.1 * Math.sin(t * 0.2);
      // globeWireframe.rotation.z = 0.1 * Math.sin(t * 0.1);

      renderer.render(scene, camera);
    }
    animate();

    // 5) Handle window resizing
    window.addEventListener("resize", onWindowResize);
    function onWindowResize() {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();

      renderer.setSize(window.innerWidth, window.innerHeight);
    }
  </script>
</body>
</html>
